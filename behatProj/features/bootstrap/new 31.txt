use Behat\MinkExtension\Context\MinkContext;
use Behat\Gherkin\Node\PyStringNode,
    Behat\Gherkin\Node\TableNode;
use Behat\Behat\Event\ScenarioEvent;

/**
 * Defines application features from the specific context.
 */
class FeatureContext extends MinkContext
{
	/**
	 * @var \RemoteWebDriver
	 */
	 protected $webDriver;
	 protected $session;
	  
	/**
	 * Initializes context.
	 *
	 * Every scenario gets its own context instance.
	 * You can also pass arbitrary arguments to the
	 * context constructor through behat.yml.
	 */
	public function __construct()
	{
		$this->webDriver = new \Behat\Mink\Driver\Selenium2Driver();
		$this->session = new \Behat\Mink\Session($this->webDriver);
		
	/** @BeforeScenario */
	public function before($event)
	{
		$wd = $this->getSession()->getDriver()->getWebDriverSession();
		$wd->window($wd->window_handle())->maximize();
	}
	 
	/** @AfterScenario */
	public function after($event)
	{
		$this->getSession()->stop();
	}		

	/**
	 * @When I click :arg1
	 */
	public function iClick($arg1)
	{
		$clickOn = $this->getSession()
						->getPage()
						->find("xpath",".//a[text()='" . $arg1 . "']")
						->click();
	}	
}